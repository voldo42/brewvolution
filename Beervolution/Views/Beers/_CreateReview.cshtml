@model Beervolution.Models.Review

<script>
    $(function () {
        $('#TasteRating').val(0);
        $('#HeadRating').val(0);
        $('#ClarityRating').val(0);

        $('#taste-rating' + @Model.BrewID).rating(function (vote, event) {
            $('#TasteRating').val(vote);
        });

        $('#head-rating' + @Model.BrewID).rating(function (vote, event) {
            $('#HeadRating').val(vote);
        });

        $('#clarity-rating' + @Model.BrewID).rating(function (vote, event) {
            $('#ClarityRating').val(vote);
        });
    });
</script>

@using (Html.BeginForm("Create", "Reviews", FormMethod.Post))
{
    @*@Html.AntiForgeryToken()*@

    <div class="form-horizontal">
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        <div class="form-group">
            @Html.HiddenFor(model => model.BrewID)
            @Html.LabelFor(model => model.TasteRating, htmlAttributes: new { @class = "control-label col-md-3" })

            <div class="col-md-9">
                @{ string tasteRating = "taste-rating" + Model.BrewID; }
                <div id="@tasteRating" style="padding-top: 8px">
                    <input type="radio" class="rating" value="1" />
                    <input type="radio" class="rating" value="2" />
                    <input type="radio" class="rating" value="3" />
                    <input type="radio" class="rating" value="4" />
                    <input type="radio" class="rating" value="5" />
                </div>
                @Html.HiddenFor(model => model.TasteRating, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.TasteRating, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.HeadRating, htmlAttributes: new { @class = "control-label col-md-3" })
            <div class="col-md-9">
                @{ string headRating = "head-rating" + Model.BrewID; }
                <div id="@headRating" style="padding-top: 8px">
                    <input type="radio" class="rating" value="1" />
                    <input type="radio" class="rating" value="2" />
                    <input type="radio" class="rating" value="3" />
                    <input type="radio" class="rating" value="4" />
                    <input type="radio" class="rating" value="5" />
                </div>
                @Html.HiddenFor(model => model.HeadRating, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.HeadRating, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.ClarityRating, htmlAttributes: new { @class = "control-label col-md-3" })
            <div class="col-md-9">
                @{ string clarityRating = "clarity-rating" + Model.BrewID; }
                <div id="@clarityRating" style="padding-top: 8px">
                    <input type="radio" class="rating" value="1" />
                    <input type="radio" class="rating" value="2" />
                    <input type="radio" class="rating" value="3" />
                    <input type="radio" class="rating" value="4" />
                    <input type="radio" class="rating" value="5" />
                </div>
                @Html.HiddenFor(model => model.ClarityRating, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.ClarityRating, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Comments, htmlAttributes: new { @class = "control-label col-md-3" })
            <div class="col-md-9">
                @Html.TextAreaFor(model => model.Comments, 6, 60, new { htmlAttributes = new { @class = "form-control", @style = "padding-top: 8px" } })
                @Html.ValidationMessageFor(model => model.Comments, "", new { @class = "text-danger" })
            </div>
        </div>
        <hr />
        <div class="form-group">
            <div style="text-align: center;">
                <input type="submit" value="Save Review" class="btn btn-primary" />
            </div>
        </div>
    </div>
}